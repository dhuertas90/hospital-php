{% extends "backendGeneral.html.twig" %}
	
{% block content %}
<div class="row">
	<div class="col-sm-4"></div>
	<div class="col-sm-5">
	<h1>Nuevo usuario</h1>
		<form class="formulario" id="form" action="checkearAgregar.php" method="post">
			<div class="form-group">
				<label for="rol">Rol:</label>
				<span>Administrador</span><input type="checkbox" id="roles_group[]" name="roles_group[]" value="1" />
				<span>Pediatra</span><input type="checkbox" id="roles_group[]" name="roles_group[]" value="2" />
				<span>Recepcionista</span><input type="checkbox" id="roles_group[]" name="roles_group[]" value="3" checked/>
			</div>
			<div class="form-group">
				<label for="nombre_usuario">Nombre de usuario:</label>
				<input type="text" id="nombre_usuario" name="nombre_usuario" placeholder="ingrese nombre de usuario" class="form-control" required>
			</div>
			<div class="form-group">
				<label for="nombre">Nombre:</label>
				<input type="text" id="nombre" name="nombre" placeholder="Ingrese su nombre" class="form-control" required>
			</div>
			<div class="form-group">
				<label for="apellido">Apellido:</label>
				<input type="text" id="apellido" name="apellido" placeholder="Ingrese su apellido" class="form-control" required>
			</div>
			<div class="form-group">
				<label for="email">Email:</label>
				<input type="email" id="email" name="email" placeholder="Ingrese su email" class="form-control" required>
			</div>
			<div class="form-group">
				<label for="habilitado">Activo</label>
				<span>Si</span><input type="radio" id="habilitado" name="habilitado" value="1" checked >
				<span>No</span><input type="radio" id="habilitado" name="habilitado" value="0" >
			</div>
			<div class="form-group">
				<label for="password">Contrase&ntilde;a</label>
				<input type="password" id="password" name="password" placeholder="Ingrese contraseña" class="form-control" required>
			</div>
			<div class="form-group">
				<label for="password_repeat">Repita su contrase&ntilde;a</label>
				<input type="password" id="password_repeat" name="password_repeat" placeholder="Repita contraseña" class="form-control" required>
			</div>
			<a onclick="isValid()" id="agregar" class="btn btn-success" >Agregar</a>
			<a href="usuarios.php" class="btn btn-danger">CANCELAR</a>
		</form>
		</div>
		<script type="text/javascript">
		$('#').val()
		function isValidPass() {
			if ($('#password').val()) {
				if ($('#password_repeat').val()) {
					if ($('#password').val() === $('#password_repeat').val()) {
						return true
					}else{
						alertify.error("Las contraseñas no coinciden")
						return false
					}
				}else{
					alertify.error("Debe repetir la contraseña")
					return false
				}
			}else{
				alertify.error("Debe ingresar una contraseña")
				return false
			}
		}
		function isValid() {
				if ($('#nombre_usuario').val()) {
					if ($('#nombre').val()) {
						if ($('#apellido').val()) {
							if ($('#email').val()) {
								if ($('input:radio[name=habilitado]:checked').val()) {
										if (isValidPass()) {
												$('#form').submit();
											}

									}else{
									alertify.error("Debe selecionar un estado")
								}
							}else{
								alertify.error("Debe ingresar un email")
							}
						}else{
							alertify.error("Debe ingresar el apellido del usuario")
						}
					}else{
						alertify.error("Debe ingresar el nombre del usuario")
					}
				}else{
					alertify.error("Debe ingresar un nombre de usuario")
				}
			
		}

		</script>

</div>

{% endblock %}